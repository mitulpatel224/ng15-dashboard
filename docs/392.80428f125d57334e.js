"use strict";(self.webpackChunkng15_dashboard=self.webpackChunkng15_dashboard||[]).push([[392],{392:(P,d,i)=>{i.r(d),i.d(d,{DashboardComponent:()=>F});var r=i(895),p=i(513),e=i(256);const g=["contentWrapper"];function b(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"li",7)(1,"a",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),l=e.MAs(1);return e.KtG(o.toggleFullscreen(l))}),e._UZ(2,"span",13),e.qZA()()}}function f(a,n){1&a&&(e.TgZ(0,"li",7)(1,"a",8),e._UZ(2,"span",14),e.qZA()())}const h=function(){return{height:"300px"}},m=["*"];let C=(()=>{class a{constructor(t){this.renderer2=t,this.enableFullscreen=!0,this.enableSetting=!0,this.fullscreenEnabled=!1}toggleFullscreen(t){this.fullscreenEnabled?this.closeFullscreen():this.openFullscreen(t)}openFullscreen(t){this.fullscreenEnabled=!0,t?.requestFullscreen?(t?.requestFullscreen(),this.toggleElementHeight("700px")):t?.webkitRequestFullscreen?(t?.webkitRequestFullscreen(),this.toggleElementHeight("700px")):t?.msRequestFullscreen&&(t?.msRequestFullscreen(),this.toggleElementHeight("700px"))}closeFullscreen(){this.fullscreenEnabled=!1;const t=document;t?.exitFullscreen?(t?.exitFullscreen(),this.toggleElementHeight("300px")):t?.mozCancelFullScreen?(t?.mozCancelFullScreen(),this.toggleElementHeight("300px")):t?.webkitExitFullscreen&&(t?.webkitExitFullscreen(),this.toggleElementHeight("300px"))}toggleElementHeight(t){this.renderer2.setStyle(this.contentWrapper.nativeElement,"height",t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-card"]],viewQuery:function(t,s){if(1&t&&e.Gf(g,5),2&t){let o;e.iGM(o=e.CRH())&&(s.contentWrapper=o.first)}},inputs:{cardTitle:"cardTitle",enableFullscreen:"enableFullscreen",enableSetting:"enableSetting"},standalone:!0,features:[e.jDz],ngContentSelectors:m,decls:16,vars:6,consts:[[1,"card","overflow-hidden"],["card",""],[1,"card-body"],[1,"d-flex","mb-2","align-items-center","justify-content-between"],[1,"card-title"],[1,"nav"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["href","#","role","button",1,"nav-link","px-2","link-secondary"],[1,"icon","icon-help"],[1,"card-text"],["contentWrapper",""],["role","button",1,"nav-link","px-2","link-secondary",3,"click"],[1,"icon","icon-fullscreen"],[1,"icon","icon-settings"]],template:function(t,s){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5),e.qZA(),e.TgZ(6,"div")(7,"ul",5),e.YNc(8,b,3,0,"li",6),e.YNc(9,f,3,0,"li",6),e.TgZ(10,"li",7)(11,"a",8),e._UZ(12,"span",9),e.qZA()()()()(),e.TgZ(13,"div",10,11),e.Hsn(15),e.qZA()()()),2&t&&(e.xp6(5),e.Oqu(s.cardTitle),e.xp6(3),e.Q6J("ngIf",s.enableFullscreen),e.xp6(1),e.Q6J("ngIf",s.enableSetting),e.xp6(4),e.Akn(e.DdM(5,h)))},dependencies:[r.ez,r.O5]}),a})();function y(a,n){if(1&a&&(e.ynx(0),e.TgZ(1,"tr",2)(2,"th",3),e._uU(3),e.qZA(),e.TgZ(4,"td",4),e._uU(5),e.qZA()(),e.BQk()),2&a){const t=n.$implicit;e.xp6(3),e.hij(" ",null==t?null:t.title," "),e.xp6(2),e.Oqu(null==t?null:t.value)}}let k=(()=>{class a{constructor(){this.data=[{title:"Time",value:"14% ahead of schedule."},{title:"Tasks",value:"12 tasks to be completed."},{title:"Workload",value:"0 tasks overdue"},{title:"Progress",value:"14% completed."},{title:"Cost",value:"42% under budget."}]}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-health"]],standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[1,"table","w-100"],[4,"ngFor","ngForOf"],[1,"border-bottom","border-2"],["scope","row",1,"text-client-primary","fs-5","p-1"],[1,"p-1"]],template:function(t,s){1&t&&(e.TgZ(0,"table",0)(1,"tbody"),e.YNc(2,y,6,2,"ng-container",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",s.data))},dependencies:[r.ez,r.sg]}),a})();const c=function(a){return[a]};function v(a,n){if(1&a&&e._UZ(0,"canvas",12),2&a){const t=e.oxw();e.Q6J("id","tasks")("type","doughnut")("data",t.tasks.data)("options",t.tasks.options)("plugins",e.VKq(5,c,t.paddingBelowLegends))}}function x(a,n){if(1&a&&e._UZ(0,"canvas",13),2&a){const t=e.oxw();e.Q6J("type",t.progress.type)("data",t.progress.data)("options",t.progress.options)("plugins",e.VKq(4,c,t.paddingBelowLegends))}}function _(a,n){if(1&a&&e._UZ(0,"canvas",12),2&a){const t=e.oxw();e.Q6J("id","time")("type",t.time.type)("data",t.time.data)("options",t.time.options)("plugins",e.VKq(5,c,t.paddingBelowLegends))}}const u=function(a,n){return[a,n]};function T(a,n){if(1&a&&e._UZ(0,"canvas",12),2&a){const t=e.oxw();e.Q6J("id","cost")("type",t.cost.type)("data",t.cost.data)("options",t.cost.options)("plugins",e.WLB(5,u,t.paddingBelowLegends,t.chartAreaBorder))}}function Z(a,n){if(1&a&&e._UZ(0,"canvas",14),2&a){const t=e.oxw();e.Q6J("data",t.workload.data)("options",t.workload.options)("plugins",e.WLB(3,u,t.paddingBelowLegends,t.chartAreaBorder))}}const w={id:"paddingBelowLegends",beforeInit(a){const n=a.legend.fit;a.legend.fit=function(){return n.bind(a.legend)(),this.height+=30}}},A={id:"chartAreaBorder",beforeDraw(a,n){const{ctx:t,chartArea:{left:s,top:o,width:l,height:D}}=a;t.save(),t.strokeStyle=n.borderColor||"#101320",t.lineWidth=n.borderWidth||10,t.setLineDash(n.borderDash||[]),t.lineDashOffset=n.borderDashOffset,t.strokeRect(s,o,l,D),t.restore()}};let F=(()=>{class a{constructor(){this.paddingBelowLegends=w,this.chartAreaBorder=A,this.tasks={type:"doughnut",data:{labels:["Not Started","Completed","In Progress"],datasets:[{label:"Tasks",data:[10,6,2],backgroundColor:["#9da4ad","#69c66a","#4fcbc2"]}]},options:{cutout:"80%",borderColor:"#101320",plugins:{datalabels:{anchor:"center",align:"end",offset:20,color:"#CDCDCD"},legend:{align:"center",labels:{boxPadding:0,generateLabels:t=>{const s=t.data.datasets;return s[0].data.map((o,l)=>({text:`${t?.data?.labels[l]} (${o})`,fontColor:"#ababab",fillStyle:s[0].backgroundColor[l],index:l}))}}}}}},this.cost={type:"bar",data:{labels:[""],datasets:[{label:"Actual",data:[3200],backgroundColor:["#69c66a"],barThickness:50},{label:"Planned",data:[4510],backgroundColor:["#50cbc2"],barThickness:50},{label:"Budget",data:[6e3],backgroundColor:["#42abf5"],barThickness:50}]},options:{elements:{bar:{borderWidth:{left:5,right:5},borderColor:"transparent"}},scales:{x:{border:{display:!1}},y:{display:!0,border:{display:!1},ticks:{stepSize:1500,callback:t=>t/1e3+"k"}}},bar:{datasets:{barPercentage:.5,barThickness:1,borderColor:""}},plugins:{datalabels:{display:!1},tooltip:{enabled:!0},legend:{align:"start",fullSize:!0}}},plugins:[]},this.workload={type:"bar",data:{labels:["Mike","Jennifer","Brandon","Sam","George"],datasets:[{label:"Completed",data:[4,2,0,0,0],backgroundColor:"#69cc6c",barPercentage:.4},{label:"Remaining",data:[0,2,1,2.5,1],backgroundColor:"#5fe0d2",barPercentage:.4},{label:"Overdue",data:[0,0,0,0,0],backgroundColor:"#f0504c",barPercentage:.4}]},options:{responsive:!0,indexAxis:"y",bar:{datasets:{barPercentage:.2}},scales:{x:{max:8,stacked:!0,border:{display:!1},ticks:{stepSize:2,sampleSize:10}},y:{stacked:!0,border:{display:!1},grid:{display:!1},ticks:{display:!0,padding:20}}},borderColor:"transparent",plugins:{datalabels:{display:!1}}}},this.progress={type:"bar",data:{labels:["Contract","Design","Procurement","Construction","Post Construction","Project Closed"],datasets:[{label:"Progress",data:[{category:"Contract",value:100},{category:"Design",value:80},{category:"Procurement",value:19},{category:"Construction",value:0},{category:"Post Construction",value:0},{category:"Project Closed",value:0}],backgroundColor(t){const s=t.raw.value;return s>70?"#6acb66":s>40?"#f8a847":s>10?"#e0589d":"#808490"},minBarLength:5,barPercentage:.4}]},options:{indexAxis:"y",scales:{y:{border:{display:!1},ticks:{crossAlign:"far",padding:15}},x:{border:{display:!1},ticks:{display:!1},grid:{display:!1}}},parsing:{xAxisKey:"value",yAxisKey:"category"},plugins:{legend:{display:!1},datalabels:{align:"start",anchor:"start",color:t=>t.dataset.data.map((s,o)=>s.value>70?"#6acb66":s.value>40?"#f8a847":s.value>10?"#e0589d":"#808490"),formatter:t=>t.value+"%"}}}},this.time={type:"bar",data:{labels:["Planned Completion","Actual Completion","Ahead","","",""],datasets:[{label:"Actual",data:[],backgroundColor:"#3facf4",barPercentage:1,categoryPercentage:1,stack:"1"},{label:"Behind",data:[],backgroundColor:"#f7a651",categoryPercentage:1,stack:"2"},{label:"On Time",data:[0,14,14],backgroundColor:"#66ce6a",categoryPercentage:1,stack:"1"}]},options:{indexAxis:"y",scales:{y:{grid:{display:!1}},x:{min:-100,max:100,stacked:!0,ticks:{stepSize:25,callback:t=>Math.abs(t)},border:{display:!1},grid:{drawTicks:!1}}},parsing:{xAxisKey:"value",yAxisKey:"category"},plugins:{datalabels:{align:"start",anchor:"start",formatter:t=>`${t}%`,color:t=>t.dataset.backgroundColor}}}}}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard"]],standalone:!0,features:[e.jDz],decls:20,vars:7,consts:[[1,"container-fluid","h-100","pb-3"],[1,"row","h-100"],[1,"col-12","col-md-6","col-lg-4","border","border-bottom-0","border-end-0"],["cardTitle","Health",3,"enableFullscreen","enableSetting"],["cardTitle","Tasks"],["baseChart","",3,"id","type","data","options","plugins",4,"ngIf"],["cardTitle","Progress"],["baseChart","",3,"type","data","options","plugins",4,"ngIf"],["cardTitle","Time"],["cardTitle","Cost"],["cardTitle","Workload"],["baseChart","","id","workload",3,"data","options","plugins",4,"ngIf"],["baseChart","",3,"id","type","data","options","plugins"],["baseChart","",3,"type","data","options","plugins"],["baseChart","","id","workload",3,"data","options","plugins"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-card",3),e._UZ(4,"app-health"),e.qZA()(),e.TgZ(5,"div",2)(6,"app-card",4),e.YNc(7,v,1,7,"canvas",5),e.qZA()(),e.TgZ(8,"div",2)(9,"app-card",6),e.YNc(10,x,1,6,"canvas",7),e.qZA()(),e.TgZ(11,"div",2)(12,"app-card",8),e.YNc(13,_,1,7,"canvas",5),e.qZA()(),e.TgZ(14,"div",2)(15,"app-card",9),e.YNc(16,T,1,8,"canvas",5),e.qZA()(),e.TgZ(17,"div",2)(18,"app-card",10),e.YNc(19,Z,1,6,"canvas",11),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("enableFullscreen",!1)("enableSetting",!1),e.xp6(4),e.Q6J("ngIf",s.tasks),e.xp6(3),e.Q6J("ngIf",s.progress),e.xp6(3),e.Q6J("ngIf",s.time),e.xp6(3),e.Q6J("ngIf",s.cost),e.xp6(3),e.Q6J("ngIf",s.workload))},dependencies:[r.ez,r.O5,C,k,p.vQ,p.jh]}),a})()}}]);